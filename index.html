\<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>æœƒè€ƒæˆ°å£«ï¼šç¥å¥‡è£œçµ¦ç«™ v1.4</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f4f4f9; padding: 20px; }
        .container { max-width: 600px; margin: auto; background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1, h2 { color: #333; text-align: center; }
        
        /* æ•¸å€¼é¢æ¿ */
        .stats { display: flex; justify-content: space-around; background: #eee; padding: 15px; border-radius: 10px; margin-bottom: 20px; font-weight: bold; }
        
        /* é¸å–®æŒ‰éˆ• */
        .menu { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; justify-content: center; }
        button { padding: 10px 15px; cursor: pointer; border: none; border-radius: 8px; background: #6c5ce7; color: white; transition: 0.3s; }
        button:hover { background: #a29bfe; }
        
        .section { display: none; }
        .active { display: block; }
        
        /* å•†åº—é …ç›® */
        .item-card { border: 1px solid #ddd; padding: 12px; margin: 10px 0; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; }
        .tag { font-size: 0.75em; padding: 2px 6px; border-radius: 4px; color: white; margin-left: 5px; }
        .tag-skin { background: #55efc4; color: #000; } /* ç´”ä¿é¤Š */
        .tag-makeup { background: #fd79a8; } /* å½©å¦/éœ€å¸å¦ */
        
        /* ç‹€æ…‹è¨Šæ¯ */
        .status-msg { color: #e74c3c; font-weight: bold; text-align: center; height: 1.5em; margin-bottom: 10px; }
        
        /* æ›´æ–°æ—¥èªŒå½ˆçª— */
        #updateModal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 20px; border: 2px solid #6c5ce7; border-radius: 10px; z-index: 1000; box-shadow: 0 0 20px rgba(0,0,0,0.5); width: 80%; }
        #overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.3); z-index: 999; }
    </style>
</head>
<body>

<div class="container">
    <h1>è£œçµ¦ç«™ç¸½éƒ¨</h1>
    
    <div id="status-display" class="status-msg">æ­¡è¿åº—é•·ï¼</div>

    <div class="stats">
        <div>ğŸ’° é‡‘å¹£: <span id="money">500</span></div>
        <div>âœ¨ é¡å€¼: <span id="beauty">80</span>/100</div>
        <div>ğŸ” é£½é£Ÿ: <span id="hunger">70</span>/100</div>
    </div>

    <div class="menu">
        <button onclick="showSection('work')">æ‰“å·¥è³ºéŒ¢</button>
        <button onclick="showSection('diary')">è¯çµ¡ç°¿</button>
        <button onclick="showSection('shop')">å•†åº—</button>
        <button onclick="toggleUpdateModal()">âœ¨ æ›´æ–°æ—¥èªŒ</button>
    </div>

    <div id="work" class="section active" style="text-align:center; padding: 20px;">
        <h3>åŠªåŠ›æ‰“å·¥ä¸­...</h3>
        <button onclick="clickWork()" style="padding: 20px; font-size: 1.2em; background: #ff7675;">é»æ“Šè³ºå– 10 é‡‘å¹£</button>
    </div>

    <div id="diary" class="section">
        <h2>ä»Šæ—¥è¯çµ¡ç°¿</h2>
        <textarea id="diary-box" style="width:100%; height:100px;" placeholder="å¯«ä¸‹å¿ƒæƒ…..."></textarea>
        <button onclick="alert('å­˜æª”æˆåŠŸï¼')">å„²å­˜å‚™å¿˜</button>
    </div>

    <div id="shop" class="section">
        <h2>ç¥å¥‡å•†åº—</h2>
        <div class="item-card">
            <span>ğŸ’„ é­…æƒ‘å£ç´… <span class="tag tag-makeup">å½©å¦</span></span>
            <button onclick="buy('å£ç´…', 200, 15, true)">$200</button>
        </div>
        <div class="item-card">
            <span>ğŸ‘ï¸ å¤§åœ°è‰²çœ¼å½±ç›¤ <span class="tag tag-makeup">å½©å¦</span></span>
            <button onclick="buy('çœ¼å½±', 300, 20, true)">$300</button>
        </div>
        <div class="item-card">
            <span>âœ¨ æƒ¹æˆ‘èœœç²‰ <span class="tag tag-makeup">åŒ–å¦</span></span>
            <button onclick="buy('èœœç²‰', 160, 10, true)">$160</button>
        </div>
        <div class="item-card">
            <span>â˜€ï¸ BiorÃ© é˜²æ›¬å™´éœ§ <span class="tag tag-makeup">é˜²æ›¬</span></span>
            <button onclick="buy('é˜²æ›¬', 180, 5, true)">$180</button>
        </div>
        <div class="item-card">
            <span>ğŸ§ª æ›¼ç§€é›·æ•¦èª¿ç†æ°´/åŒ–å¦æ°´ <span class="tag tag-skin">ä¿é¤Š</span></span>
            <button onclick="buy('ä¿é¤Šæ°´', 120, 8, false)">$120</button>
        </div>
        <div class="item-card">
            <span>ğŸŒ¿ Nature Face å™´éœ§ <span class="tag tag-skin">ä¿é¤Š</span></span>
            <button onclick="buy('å™´éœ§', 150, 8, false)">$150</button>
        </div>
        <div class="item-card">
            <span>ğŸ§¼ é›ªèŠ™è˜­å¸å¦æ°´ (æ¸…æ½”å¦å®¹)</span>
            <button onclick="buy('å¸å¦', 150, 0, false)">$150</button>
        </div>
        <div class="item-card">
            <span>ğŸ’Š å¯ç«‹ä¿¡ç—˜ç—˜å‡è†  (æ²»ç—˜å°ˆç”¨)</span>
            <button onclick="buy('ç—˜ç—˜è†', 200, 0, false)">$200</button>
        </div>
    </div>
</div>

<div id="overlay" onclick="toggleUpdateModal()"></div>
<div id="updateModal">
    <h3>ğŸš€ v1.4 æ›´æ–°ç´€éŒ„</h3>
    <hr>
    <ul>
        <li>[æ­£å] å°‡å•†åº—å¾ã€Œå¯¶é›…ã€æ”¹ç‚ºé€šç”¨åç¨±ã€Œå•†åº—ã€ã€‚</li>
        <li>[æ–°å¢] å½©å¦ç³»åˆ—ï¼šåŒ…å«å£ç´…ã€çœ¼å½±ç›¤ã€‚</li>
        <li>[é‚è¼¯] å¸¶å¦åˆ‡æ›åˆ†é æœ‰æ©Ÿç‡é•·ç—˜ï¼Œéœ€ç”¨å¸å¦æ°´é é˜²æˆ–ç—˜ç—˜è†æ²»ç™‚ã€‚</li>
        <li>[ä¿®æ­£] æ•¸å€¼ä¸Šé™å›ºå®šç‚º 100ã€‚</li>
        <li>[å„ªåŒ–] åŠ å…¥æ›´æ–°æ—¥èªŒè¦–çª—åŠŸèƒ½ã€‚</li>
    </ul>
    <button onclick="toggleUpdateModal()">é—œé–‰</button>
</div>

<script>
    let money = 500;
    let beauty = 80;
    let hunger = 70;
    let isDirty = false; // æ˜¯å¦å¸¶å¦
    let hasAcne = false; // æ˜¯å¦æœ‰ç—˜ç—˜
    const max = 100;

    function showSection(id) {
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        if (isDirty) checkAcneRisk(); // åˆ‡æ›åˆ†é æ™‚æª¢æŸ¥å¸å¦
    }

    function toggleUpdateModal() {
        const m = document.getElementById('updateModal');
        const o = document.getElementById('overlay');
        const isShow = m.style.display === 'block';
        m.style.display = isShow ? 'none' : 'block';
        o.style.display = isShow ? 'none' : 'block';
    }

    function clickWork() {
        money += 10;
        updateUI("åŠªåŠ›æ‰“å·¥è³ºåˆ°äº† 10 é‡‘å¹£ï¼");
    }

    function buy(name, price, gain, makeup) {
        if (money < price) { alert("é‡‘å¹£ä¸è¶³ï¼Œå¿«å»æ‰“å·¥ï¼"); return; }
        
        if (name === 'å¸å¦') {
            money -= price; isDirty = false;
            updateUI("å¸å¦å®Œæˆï¼Œçš®è†šå¾ˆæ¸…çˆ½ï¼");
        } else if (name === 'ç—˜ç—˜è†') {
            if (hasAcne) {
                money -= price; hasAcne = false;
                beauty = Math.min(max, beauty + 15);
                updateUI("æ“¦äº†ç—˜ç—˜è†ï¼Œç´…è…«æ¶ˆé€€äº†ï¼");
            } else { alert("è‡‰ä¸Šæ²’ç—˜ç—˜ï¼Œä¸ç”¨æ“¦è—¥å–”ã€‚"); }
        } else {
            money -= price;
            beauty = Math.min(max, beauty + gain);
            if (makeup) isDirty = true;
            updateUI("ä½¿ç”¨äº† " + name + (makeup ? " (è¨˜å¾—å¸å¦)" : ""));
        }
    }

    function checkAcneRisk() {
        if (isDirty && Math.random() < 0.2) { // 20% æ©Ÿç‡
            hasAcne = true;
            beauty = Math.max(0, beauty - 10);
            document.getElementById('status-display').innerText = "âš ï¸ å¦æ²’å¸ä¹¾æ·¨ï¼Œé•·ç—˜ç—˜äº†ï¼";
        }
    }

    function updateUI(msg) {
        document.getElementById('money').innerText = money;
        document.getElementById('beauty').innerText = beauty;
        document.getElementById('hunger').innerText = hunger;
        if (msg) document.getElementById('status-display').innerText = msg;
        if (hasAcne) document.getElementById('status-display').innerText += " [âš ï¸ ç—˜ç—˜ä¸­]";
    }

    updateUI(); // åˆå§‹æ›´æ–°
</script>

</body>
</html>
